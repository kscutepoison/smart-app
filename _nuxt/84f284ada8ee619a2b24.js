(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{185:function(t,e,n){"use strict";n.r(e);n(39);var o=n(181),r=n.n(o),c={data:function(){return{device:[{name:"Circulater",category:"webhook",apiKey:"2Se0jMAGQkxao49ck5rcp",methods:[{name:"Turn On",url:"turn_on_circulater"},{name:"Turn Off",url:"turn_off_circulater"}],image:"/images/fan.svg"}],rowsPerPageItems:[8,12,16],pagination:{rowPerPage:8}}},methods:{onSubmit:function(t,e){if(console.log(t),"IR"===t.category){var n=this.$store.getters.remoAPI,o="https://api.nature.global/1/signals/"+t.methods[e].id+"/send",c={"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer "+n},data={};console.log(c,data,o),this.$axios.post(o,r.a.stringify(data),{headers:c}).then(function(t){console.log(t)}).catch(function(t){console.log(t)})}else if(t.aircon);else{var l;l="https://maker.ifttt.com/trigger/"+t.methods[e].url+"/with/key/"+t.apikey;this.$axios.get(l).then(function(t){console.log(t)}).catch(function(t){console.log(t)})}},getAppliances:function(){console.log(this.$store.getters.remoAppliances)},sendRemo:function(){var t={"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer "+this.$store.getters.remoAPI},e={button:"power-off"};console.log(r.a.stringify(e)),this.$axios.post("https://api.nature.global/1/appliances/23fce9b5-aa6b-4f35-9fdc-7e744d438d49/aircon_settings",r.a.stringify(e),{headers:t}).then(function(t){console.log(t)}).catch(function(t){console.log(t)})},getSesame:function(){this.$store.dispatch("getSesameDevices")}},computed:{devices:function(){var t=[];return this.$store.getters.webhook.forEach(function(e){t.push(e)}),this.$store.getters.remoAppliances.forEach(function(e,n){t.push({name:e.nickname,category:e.type,methods:[],image:"/images/"+e.image+".svg",id:e.id}),e.signals.length>=1?e.signals.forEach(function(e){t[t.length-1].methods.push({name:e.name,id:e.id})}):t[t.length-1].methods=[{name:"Temp: "+e.settings.temp},{name:"Mode: "+e.settings.mode},{name:"Volume: "+e.settings.vol}]}),t}},created:function(){this.$store.getters.isAuthenticated&&(this.$store.dispatch("getWebhook"),this.$store.dispatch("getRemoAppliances"))}},l=n(30),m=Object(l.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:"","grid-list-md":""}},[n("v-data-iterator",{attrs:{items:t.devices,"rows-per-page-items":t.rowsPerPageItems,pagination:t.pagination,"content-tag":"v-layout",row:"",wrap:""},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"item",fn:function(e){return[n("v-flex",{attrs:{xs6:"",sm3:"",md2:"",lg3:""}},[n("v-card",[n("v-card-title",[n("v-avatar",{attrs:{tile:"tile",size:"90px"}},[n("img",{attrs:{src:"/smart-app"+e.item.image,alt:"avatar"}})]),n("br"),n("h3",[t._v(t._s(e.item.name))])],1),t._v(" "),n("v-divider"),t._v(" "),n("v-list",{attrs:{dense:""}},t._l(e.item.methods,function(o,r){return n("v-list-tile",{key:r},[n("v-list-tile-content",[n("a",{attrs:{href:"#"},on:{click:function(n){return t.onSubmit(e.item,r)}}},[t._v(t._s(o.name))])])],1)}),1)],1)],1)]}}])}),t._v(" "),n("v-btn",{on:{click:t.getAppliances}},[t._v("Remo")]),t._v(" "),n("v-btn",{on:{click:t.sendRemo}},[t._v("sendRemo")]),t._v(" "),n("v-btn",{on:{click:t.getSesame}},[t._v("getSESAME")])],1)},[],!1,null,null,null).exports,d=(n(184),{data:function(){return{headers:[{text:"Date",value:"date"},{text:"Temperature",value:"temperature"},{text:"Humidity",value:"humidity"},{text:"Illuminance",value:"illuminance"}]}},computed:{remoLog:function(){return this.$store.getters.remoLog}},middleware:["check-auth"],created:function(){this.$store.getters.isAuthenticated?this.$store.dispatch("getLog"):this.$router.push("/auth")},components:{Devices:m}}),h=Object(l.a)(d,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"inspire"}},[n("v-content",[n("Devices"),t._v(" "),n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-layout",{attrs:{"justify-center":"","align-center":""}},[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.remoLog,dark:""},scopedSlots:t._u([{key:"items",fn:function(e){return[n("td",[t._v(t._s(e.item.date))]),t._v(" "),n("td",[t._v(t._s(e.item.temperature))]),t._v(" "),n("td",[t._v(t._s(e.item.humidity))]),t._v(" "),n("td",[t._v(t._s(e.item.illuminance))])]}}])})],1)],1)],1)],1)},[],!1,null,null,null);e.default=h.exports}}]);